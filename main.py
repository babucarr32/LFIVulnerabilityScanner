from bs4 import BeautifulSoup
import requests


def LFIVulScanner(*args):
    vuls = []

    cookies = {
        'PHPSESSID': 'f495a6cf064a10e9a1779f9959d6a3e7'
    }

    for arg in args:
        if arg == '-u':  # filtering out commands
            cmdIndx = CommandSplitter.index('-u')
            password = args[cmdIndx + 1] # Find the password
            print(password)

    # html = requests.get(URL, cookies=cookies)
    # soup = BeautifulSoup(html.text, 'lxml')
    # dirs = soup.findAll('a')
    #
    # for dir in dirs:
    #
    #     if "?page=" in dir['href']:
    #         vuls.append(dir['href'])
    #
    # if vuls != "":
    #     if len(vuls) == 1:
    #         print(f"{len(vuls)} LFI Vulnerability found!!!")
    #         print("----------------------------------------")
    #     else:
    #         print(f"{len(vuls)} LFI Vulnerabilities found!!!")
    #         print("----------------------------------------")
    #     for vul in vuls:
    #         print(URL + "/" + vul)
    # else:
    #     print(f"{len(vuls)} LFI Vulnerabilities found!!!")
    #     print("----------------------------------------")


if __name__ == "__main__":
    Command = input("Enter target URL: ")
    CommandSplitter = Command.split()  # split the data
    CommandArgs = []
    for i in CommandSplitter:
        CommandArgs.append(i)
    LFIVulScanner(*CommandArgs)
# http://10.1.1.122/dvwa
